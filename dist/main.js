(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var s=n.getElementsByTagName("script");s.length&&(e=s[s.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const e=function(t){this.name=t,this.tasks=[],this.addTask=function(t,e,s,i){const a=new n(t,e,s,i);return this.tasks.push(a),a},this.removeTask=function(t){this.tasks=this.tasks.filter((e=>e!==t))},this.toString=function(){let t="";return t+=this.name+s.listAndTaskDelimiter,this.tasks.forEach((e=>t+=e.toString()+s.taskDelimiter)),t+=s.listDelimiter,t}},n=function(t,e,n,i){this.title=t,this.dueDate=e,this.priority=n,this.description=i,this.selected=!1,this.beingEdited=!1,this.toString=function(){return"".concat(this.title,s.taskElementDelimiter,this.dueDate,s.taskElementDelimiter,this.priority,s.taskElementDelimiter,this.description)}},s=(()=>{const t=function(t){const[a,o]=t.split(i),c=new e(a),d=o.split(s).filter(Boolean);for(let t=0;t<d.length;t++){const e=n(d[t]);c.addTask(...e)}return c},n=function(t){return t.split(a)},s=";;;",i=":::",a="%";return{checkStorageAvailable:function(t){let e;try{e=window[t];const n="__storage_test__";return e.setItem(n,n),e.removeItem(n),!0}catch(t){return!1}},getLocalStorageData:function(){return localStorage.getItem("lists")},storeLocalData:function(t){const e=t.reduce(((t,e)=>t.concat(e.toString())),"");localStorage.setItem("lists",e)},parseData:function(e){try{const n=e.split("$$$").filter(Boolean),s=[];for(let e=0;e<n.length;e++)s.push(t(n[e]));return s}catch(t){return null}},listDelimiter:"$$$",taskDelimiter:s,listAndTaskDelimiter:i,taskElementDelimiter:a}})(),i=t.p+"7e076eda382a5d1a4fa8.svg",a=t.p+"ad372b31fe89f0dbf482.svg",o=t.p+"69b765c867632df9b042.svg",c=t.p+"b92ae757782f473196f6.svg",d=(()=>{const t=function(t){const n=document.createElement("div");n.classList.add("task"),n.taskObject=t;const i=document.createElement("div");i.classList.add("task-title"),i.textContent=t.title;const a=document.createElement("div");a.classList.add("task-deadline"),a.textContent=t.dueDate;const o=document.createElement("div");o.classList.add("task-priority"),o.textContent=t.priority;const c=document.createElement("div");c.classList.add("task-description");const d=document.createElement("div");d.classList.add("task-description-title"),d.textContent="Description:";const l=document.createElement("div");l.classList.add("task-description-text"),l.textContent=t.description;const r=document.createElement("div");r.classList.add("task-description-buttons");const u=e();n.editButton=u;const p=s();return n.removeButton=p,r.appendChild(u),r.appendChild(p),c.appendChild(d),c.appendChild(l),c.appendChild(r),n.appendChild(i),n.appendChild(a),n.appendChild(o),n.appendChild(c),n},e=function(){const t=document.createElement("img");return t.src=i,t.id=l,t.classList.add("button"),t.alt="edit",t},s=function(){const t=document.createElement("img");return t.src=a,t.id=r,t.classList.add("button"),t.alt="remove",t},d=function(){const t=document.createElement("img");return t.src=o,t.id=u,t.classList.add("button"),t.alt="commit",t},l="edit-button",r="remove-button",u="commit-button";return{generateList:function(t){const n=document.createElement("div");n.classList.add("list"),n.listObject=t;const i=document.createElement("div");i.classList.add("list-name-wrapper");const a=document.createElement("div");a.classList.add("list-name"),a.textContent=t.name,i.appendChild(a);const o=document.createElement("div");o.classList.add("buttons");const c=e(),d=s();return n.editButton=c,n.removeButton=d,o.appendChild(c),o.appendChild(d),n.appendChild(i),n.appendChild(o),n},editList:function(t){const e=t.querySelector(".buttons");e.innerHTML="";const n=d();t.commitButton=n,e.appendChild(n);const s=t.querySelector(".list-name"),i=s.textContent;s.innerHTML="";const a=document.createElement("input");a.type="text",a.value=i,a.classList.add("list-name-edit-box"),s.appendChild(a)},generateSelectedListNameElement:function(t){const e=document.createElement("div");return e.id="selected-list-name",e.textContent=t,e},generateTaskContainer:function(){const t=document.createElement("div");return t.id="selected-list-tasks",t},generateTaskColumnHeaders:function(){const e=t(new n("Task name","Due date","Priority",""));return e.classList.remove("task"),e.id="task-columns",e.removeChild(e.querySelector(".task-description")),e},generateTask:t,editTask:function(t){const e=t.querySelector(".task-description-buttons");e.innerHTML="";const n=d();t.commitButton=n,e.appendChild(n);const s=t.querySelector(".task-title"),i=s.textContent;s.innerHTML="";const a=document.createElement("input");a.type="text",a.value=i,a.classList.add("task-name-edit-box"),a.classList.add("task-edit-box"),s.appendChild(a);const o=t.querySelector(".task-deadline"),c=o.textContent;o.innerHTML="";const l=document.createElement("input");l.type="text",l.value=c,l.classList.add("task-deadline-edit-box"),l.classList.add("task-edit-box"),o.appendChild(l);const r=t.querySelector(".task-priority"),u=r.textContent;r.innerHTML="";const p=document.createElement("input");p.type="text",p.value=u,p.classList.add("task-priority-edit-box"),p.classList.add("task-edit-box"),r.appendChild(p);const m=t.querySelector(".task-description-text"),k=m.textContent;m.innerHTML="";const g=document.createElement("textarea");g.value=k,g.classList.add("task-description-edit-box"),m.appendChild(g)},generatePlusIcon:function(){const t=document.createElement("img");return t.src=c,t.id="plus-button",t.classList.add("button"),t.alt="new list",t}}})(),l={setupTaskView:function(t,e){t.appendChild(d.generateSelectedListNameElement(e)),t.appendChild(d.generateTaskColumnHeaders());const n=d.generateTaskContainer();t.appendChild(n);const s=d.generatePlusIcon();return s.id="new-task-button",s.addEventListener("click",r.addTask),t.appendChild(s),n},listUtils:(()=>{const t=function(t){const e=d.generateList(t);return e.addEventListener("click",o),e.editButton.addEventListener("click",n),e.removeButton.addEventListener("click",a),e},n=function(t){t.stopPropagation();const e=u(t.target);d.editList(e),e.commitButton.addEventListener("click",i);const n=e.querySelector(".list-name-edit-box");n.addEventListener("focusout",i),n.focus()},i=function(e){e.stopPropagation();const n=u(e.target),i=n.listObject,a=n.querySelector(".list-name-edit-box").value,o=i.name,c=r.listDOMElements.findIndex((t=>t.listObject.name===o));i.name=a;const d=t(i);r.listDOMElements[c]=d,r.displayLists(),s.storeLocalData(r.lists)},a=function(t){t.stopPropagation();const e=u(t.target),n=e.listObject;e.classList.contains("selected")&&(r.getSelectedList=null,r.displayTasks()),e.remove(),r.removeList(n,e)},o=function(t){const e=u(t.target);Array.from(e.parentNode.childNodes).forEach((t=>{t.classList.remove("selected")})),e.classList.add("selected"),r.setSelected(e),r.displayTasks()},c=function(t){const s=new e("");r.addList(s),r.displayLists();const i={stopPropagation:()=>{},target:l(s)};n(i)},l=function(t){return r.listDOMElements.find((e=>e.listObject.name===t.name))},u=function(t){let e=t;for(;(null!==e||void 0!==e)&&!e.classList.contains("list");)e=e.parentElement;return e};return{createListElement:t,addNewListButton:function(t){const e=d.generatePlusIcon();e.addEventListener("click",c),t.appendChild(e)},getListDOMElementFromList:l,getListDOMElementFromChildElement:u}})(),taskUtils:(()=>{const t=function(t){const n=d.generateTask(t);return t.selected&&n.classList.add("selected"),n.addEventListener("click",o),n.editButton.addEventListener("click",e),n.removeButton.addEventListener("click",a),n},e=function(t){t.stopPropagation();const e=c(t.target);d.editTask(c(e)),e.querySelectorAll(".task-edit-box").forEach((t=>t.addEventListener("click",(t=>t.stopPropagation()))));const s=e.querySelector(".task-description-edit-box");s.addEventListener("click",(t=>t.stopPropagation())),s.focus(),e.commitButton.addEventListener("click",n),e.beingEdited=!0,e.taskObject.beingEdited=!0},n=function(e){e.stopPropagation();const n=c(e.target);n.beingEdited=!1,n.taskObject.beingEdited=!1;const i=n.taskObject,a=n.querySelector(".task-name-edit-box").value,o=n.querySelector(".task-deadline-edit-box").value,d=n.querySelector(".task-priority-edit-box").value,l=n.querySelector(".task-description-edit-box").value;i.title=a,i.dueDate=o,i.priority=d,i.description=l;const u=t(i);n.parentNode.replaceChild(u,n),null===a||""===a?(r.getSelectedList().removeTask(i),u.remove()):s.storeLocalData(r.lists)},i=function(t){n({target:t,stopPropagation:()=>{}})},a=function(t){t.stopPropagation();const e=c(t.target),n=e.taskObject;r.getSelectedList().removeTask(n),e.remove(),s.storeLocalData(r.lists)},o=function(t){let e=c(t.target);e.classList.contains("selected")?(e.classList.remove("selected"),e.taskObject.selected=!1,e.beingEdited&&i(e)):(e.classList.add("selected"),e.taskObject.selected=!0)},c=function(t){let e=t;for(;(null!==e||void 0!==e)&&!e.classList.contains("task");)e=e.parentElement;return e},l=function(t){const e=document.querySelectorAll(".task");for(let n=0;n<e.length;n++)if(e[n].taskObject===t)return e[n]};return{addTask:function(n){const s=t(n);s.classList.add("selected"),document.getElementById("selected-list-tasks").appendChild(s),e({target:s,stopPropagation:()=>{}})},createTaskElement:t,handleTasksBeingEdited:function(t){for(let e=0;e<t.length;e++)t[e].beingEdited&&i(l(t[e]))}}})()},r=(()=>{let t,e=[],n=[];return{displayLists:function(){const t=document.getElementById("list-selection");t.innerHTML="";const e=document.createElement("div");e.id="lists",t.appendChild(e),l.listUtils.addNewListButton(t);for(let t=0;t<n.length;t++)e.appendChild(n[t])},displayTasks:function(){const e=document.getElementById("task-view");if(e.innerHTML="",null===t)return;const n=l.setupTaskView(e,t.name),s=t.tasks;for(let t=0;t<s.length;t++){const e=l.taskUtils.createTaskElement(s[t]);n.appendChild(e)}},addList:function(t){e.push(t);const s=l.listUtils.createListElement(t);n.push(s)},removeList:function(t,i){e=e.filter((e=>e!==t)),n=n.filter((t=>t!==i)),s.storeLocalData(e)},addTask:function(e){const n=t.addTask("","","","");n.selected=!0,l.taskUtils.addTask(n)},getSelectedList:function(){return t},setSelected:function(e){t!==e.listObject&&null!=t&&l.taskUtils.handleTasksBeingEdited(t.tasks),t=e.listObject},lists:e,listDOMElements:n}})();function u(){const t=[],n=new e("Daily");return n.addTask("Clean up","05/14/2003",5,"Make the kitchen, vaccuum the shower and wash the ceiling"),n.addTask("Buy food","05/14/2003",2,"Need to buy: onions, rubber gloves, lotion, pringles can, sponge"),t.push(n),t.push(new e("Monthly")),t}(function(){if(s.checkStorageAvailable("localStorage")){const t=s.getLocalStorageData();if(null!=t&&""!==t){const e=s.parseData(t);return null===e?u():(console.log("listContainer"),e)}return u()}return u()})().forEach((t=>r.addList(t))),r.displayLists()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNFLE9BQU9KLEdBRVgsQ0FDRSxPQUFPQSxHQUVYLEVBc0JzQk8sR0FDUnBMLFNBQVM2SCxHQUFNbEIsRUFBY2lDLFFBQVFmLEtBQ25EbEIsRUFBY21CLGMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvbGlzdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90b2RvbGlzdC93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3RvZG9saXN0L3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL1RvRG9MaXN0LmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL1BlcnNpc3RlbmNlVXRpbHMuanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9zcmMvRE9NRWxlbWVudEdlbmVyYXRvci5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9ET01Db250cm9sbGVyVXRpbHMuanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9zcmMvTGlzdFV0aWxzLmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL1Rhc2tVdGlscy5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9ET01Db250cm9sbGVyLmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiaW1wb3J0IHsgUGVyc2lzdGVuY2VVdGlscyB9IGZyb20gJy4vUGVyc2lzdGVuY2VVdGlscyc7XHJcblxyXG5jb25zdCBMaXN0ID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gIHRoaXMudGFza3MgPSBbXTtcclxuICB0aGlzLmFkZFRhc2sgPSBmdW5jdGlvbiAodGl0bGUsIGR1ZURhdGUsIHByaW9yaXR5LCBkZXNjcmlwdGlvbikge1xyXG4gICAgY29uc3QgbmV3VGFzayA9IG5ldyBUYXNrKHRpdGxlLCBkdWVEYXRlLCBwcmlvcml0eSwgZGVzY3JpcHRpb24pO1xyXG4gICAgdGhpcy50YXNrcy5wdXNoKG5ld1Rhc2spO1xyXG4gICAgcmV0dXJuIG5ld1Rhc2s7XHJcbiAgfTtcclxuICB0aGlzLnJlbW92ZVRhc2sgPSBmdW5jdGlvbiAodGFzaykge1xyXG4gICAgdGhpcy50YXNrcyA9IHRoaXMudGFza3MuZmlsdGVyKCh0KSA9PiB0ICE9PSB0YXNrKTtcclxuICB9O1xyXG5cclxuICB0aGlzLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IG91dHB1dCA9ICcnO1xyXG4gICAgb3V0cHV0ICs9IHRoaXMubmFtZSArIFBlcnNpc3RlbmNlVXRpbHMubGlzdEFuZFRhc2tEZWxpbWl0ZXI7XHJcbiAgICB0aGlzLnRhc2tzLmZvckVhY2goXHJcbiAgICAgICh0KSA9PiAob3V0cHV0ICs9IHQudG9TdHJpbmcoKSArIFBlcnNpc3RlbmNlVXRpbHMudGFza0RlbGltaXRlcilcclxuICAgICk7XHJcbiAgICBvdXRwdXQgKz0gUGVyc2lzdGVuY2VVdGlscy5saXN0RGVsaW1pdGVyO1xyXG4gICAgcmV0dXJuIG91dHB1dDtcclxuICB9O1xyXG59O1xyXG5cclxuY29uc3QgVGFzayA9IGZ1bmN0aW9uICh0aXRsZSwgZHVlRGF0ZSwgcHJpb3JpdHksIGRlc2NyaXB0aW9uKSB7XHJcbiAgdGhpcy50aXRsZSA9IHRpdGxlO1xyXG4gIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XHJcbiAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xyXG4gIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcclxuICB0aGlzLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgdGhpcy5iZWluZ0VkaXRlZCA9IGZhbHNlO1xyXG4gIHRoaXMudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gJycuY29uY2F0KFxyXG4gICAgICB0aGlzLnRpdGxlLFxyXG4gICAgICBQZXJzaXN0ZW5jZVV0aWxzLnRhc2tFbGVtZW50RGVsaW1pdGVyLFxyXG4gICAgICB0aGlzLmR1ZURhdGUsXHJcbiAgICAgIFBlcnNpc3RlbmNlVXRpbHMudGFza0VsZW1lbnREZWxpbWl0ZXIsXHJcbiAgICAgIHRoaXMucHJpb3JpdHksXHJcbiAgICAgIFBlcnNpc3RlbmNlVXRpbHMudGFza0VsZW1lbnREZWxpbWl0ZXIsXHJcbiAgICAgIHRoaXMuZGVzY3JpcHRpb25cclxuICAgICk7XHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCB7IExpc3QsIFRhc2sgfTtcclxuIiwiaW1wb3J0IHsgTGlzdCB9IGZyb20gJy4vVG9Eb0xpc3QnO1xyXG5cclxuY29uc3QgUGVyc2lzdGVuY2VVdGlscyA9ICgoKSA9PiB7XHJcbiAgY29uc3QgY2hlY2tTdG9yYWdlQXZhaWxhYmxlID0gZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgIGxldCBzdG9yYWdlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgc3RvcmFnZSA9IHdpbmRvd1t0eXBlXTtcclxuICAgICAgY29uc3QgeCA9ICdfX3N0b3JhZ2VfdGVzdF9fJztcclxuICAgICAgc3RvcmFnZS5zZXRJdGVtKHgsIHgpO1xyXG4gICAgICBzdG9yYWdlLnJlbW92ZUl0ZW0oeCk7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0TG9jYWxTdG9yYWdlRGF0YSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGlzdHMnKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBzdG9yZUxvY2FsRGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICBjb25zdCBkYXRhU3RyaW5nID0gZGF0YS5yZWR1Y2UoXHJcbiAgICAgIChhY2N1bXVsYXRvciwgY3VycmVudExpc3QpID0+IGFjY3VtdWxhdG9yLmNvbmNhdChjdXJyZW50TGlzdC50b1N0cmluZygpKSxcclxuICAgICAgJydcclxuICAgICk7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGlzdHMnLCBkYXRhU3RyaW5nKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBwYXJzZURhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgbGlzdFN0cmluZ3MgPSBkYXRhLnNwbGl0KGxpc3REZWxpbWl0ZXIpLmZpbHRlcihCb29sZWFuKTtcclxuICAgICAgY29uc3QgbGlzdHMgPSBbXTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0U3RyaW5ncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxpc3RzLnB1c2gocGFyc2VMaXN0KGxpc3RTdHJpbmdzW2ldKSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGxpc3RzO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBwYXJzZUxpc3QgPSBmdW5jdGlvbiAobGlzdFN0cmluZykge1xyXG4gICAgY29uc3QgW2xpc3ROYW1lLCB0YXNrc1N0cmluZ10gPSBsaXN0U3RyaW5nLnNwbGl0KGxpc3RBbmRUYXNrRGVsaW1pdGVyKTtcclxuICAgIGNvbnN0IGxpc3QgPSBuZXcgTGlzdChsaXN0TmFtZSk7XHJcbiAgICBjb25zdCBzcGxpdFRhc2tTdHJpbmdzID0gdGFza3NTdHJpbmcuc3BsaXQodGFza0RlbGltaXRlcikuZmlsdGVyKEJvb2xlYW4pO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcGxpdFRhc2tTdHJpbmdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IHRhc2tQYXJhbXMgPSBwYXJzZVRhc2soc3BsaXRUYXNrU3RyaW5nc1tpXSk7XHJcbiAgICAgIGxpc3QuYWRkVGFzayguLi50YXNrUGFyYW1zKTtcclxuICAgIH1cclxuICAgIHJldHVybiBsaXN0O1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHBhcnNlVGFzayA9IGZ1bmN0aW9uICh0YXNrU3RyaW5nKSB7XHJcbiAgICByZXR1cm4gdGFza1N0cmluZy5zcGxpdCh0YXNrRWxlbWVudERlbGltaXRlcik7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgbGlzdERlbGltaXRlciA9ICckJCQnO1xyXG4gIGNvbnN0IHRhc2tEZWxpbWl0ZXIgPSAnOzs7JztcclxuICBjb25zdCBsaXN0QW5kVGFza0RlbGltaXRlciA9ICc6OjonO1xyXG4gIGNvbnN0IHRhc2tFbGVtZW50RGVsaW1pdGVyID0gJyUnO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgY2hlY2tTdG9yYWdlQXZhaWxhYmxlLFxyXG4gICAgZ2V0TG9jYWxTdG9yYWdlRGF0YSxcclxuICAgIHN0b3JlTG9jYWxEYXRhLFxyXG4gICAgcGFyc2VEYXRhLFxyXG4gICAgbGlzdERlbGltaXRlcixcclxuICAgIHRhc2tEZWxpbWl0ZXIsXHJcbiAgICBsaXN0QW5kVGFza0RlbGltaXRlcixcclxuICAgIHRhc2tFbGVtZW50RGVsaW1pdGVyLFxyXG4gIH07XHJcbn0pKCk7XHJcblxyXG5leHBvcnQgeyBQZXJzaXN0ZW5jZVV0aWxzIH07XHJcbiIsImltcG9ydCB7IFRhc2sgfSBmcm9tICcuL1RvRG9MaXN0JztcclxuaW1wb3J0IEVkaXRJY29uIGZyb20gJy4vZWRpdC1pY29uLnN2Zyc7XHJcbmltcG9ydCBSZW1vdmVJY29uIGZyb20gJy4vcmVtb3ZlLWljb24uc3ZnJztcclxuaW1wb3J0IENoZWNrSWNvbiBmcm9tICcuL2NoZWNrLWljb24uc3ZnJztcclxuaW1wb3J0IFBsdXNJY29uIGZyb20gJy4vcGx1cy1pY29uLnN2Zyc7XHJcblxyXG5jb25zdCBET01FbGVtZW50R2VuZXJhdG9yID0gKCgpID0+IHtcclxuICBjb25zdCBnZW5lcmF0ZUxpc3QgPSBmdW5jdGlvbiAobGlzdCkge1xyXG4gICAgY29uc3QgbGlzdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGxpc3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2xpc3QnKTtcclxuICAgIGxpc3RFbGVtZW50Lmxpc3RPYmplY3QgPSBsaXN0O1xyXG4gICAgY29uc3QgbGlzdE5hbWVXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBsaXN0TmFtZVdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnbGlzdC1uYW1lLXdyYXBwZXInKTtcclxuICAgIGNvbnN0IGxpc3ROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBsaXN0TmFtZS5jbGFzc0xpc3QuYWRkKCdsaXN0LW5hbWUnKTtcclxuICAgIGxpc3ROYW1lLnRleHRDb250ZW50ID0gbGlzdC5uYW1lO1xyXG4gICAgbGlzdE5hbWVXcmFwcGVyLmFwcGVuZENoaWxkKGxpc3ROYW1lKTtcclxuICAgIGNvbnN0IGJ1dHRvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGJ1dHRvbnMuY2xhc3NMaXN0LmFkZCgnYnV0dG9ucycpO1xyXG4gICAgY29uc3QgZWRpdEljb24gPSBnZW5lcmF0ZUVkaXRJY29uKCk7XHJcbiAgICBjb25zdCByZW1vdmVJY29uID0gZ2VuZXJhdGVSZW1vdmVJY29uKCk7XHJcbiAgICBsaXN0RWxlbWVudC5lZGl0QnV0dG9uID0gZWRpdEljb247XHJcbiAgICBsaXN0RWxlbWVudC5yZW1vdmVCdXR0b24gPSByZW1vdmVJY29uO1xyXG4gICAgYnV0dG9ucy5hcHBlbmRDaGlsZChlZGl0SWNvbik7XHJcbiAgICBidXR0b25zLmFwcGVuZENoaWxkKHJlbW92ZUljb24pO1xyXG4gICAgbGlzdEVsZW1lbnQuYXBwZW5kQ2hpbGQobGlzdE5hbWVXcmFwcGVyKTtcclxuICAgIGxpc3RFbGVtZW50LmFwcGVuZENoaWxkKGJ1dHRvbnMpO1xyXG4gICAgcmV0dXJuIGxpc3RFbGVtZW50O1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGVkaXRMaXN0ID0gZnVuY3Rpb24gKGxpc3RFbGVtZW50KSB7XHJcbiAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBsaXN0RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9ucycpO1xyXG4gICAgYnV0dG9uQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG4gICAgY29uc3QgY2hlY2tJY29uID0gZ2VuZXJhdGVDaGVja0ljb24oKTtcclxuICAgIGxpc3RFbGVtZW50LmNvbW1pdEJ1dHRvbiA9IGNoZWNrSWNvbjtcclxuICAgIGJ1dHRvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChjaGVja0ljb24pO1xyXG5cclxuICAgIGNvbnN0IGxpc3ROYW1lID0gbGlzdEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmxpc3QtbmFtZScpO1xyXG4gICAgY29uc3QgY3VycmVudE5hbWUgPSBsaXN0TmFtZS50ZXh0Q29udGVudDtcclxuICAgIGxpc3ROYW1lLmlubmVySFRNTCA9ICcnO1xyXG4gICAgY29uc3QgbmFtZUVkaXRCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgbmFtZUVkaXRCb3gudHlwZSA9ICd0ZXh0JztcclxuICAgIG5hbWVFZGl0Qm94LnZhbHVlID0gY3VycmVudE5hbWU7XHJcbiAgICBuYW1lRWRpdEJveC5jbGFzc0xpc3QuYWRkKCdsaXN0LW5hbWUtZWRpdC1ib3gnKTtcclxuICAgIGxpc3ROYW1lLmFwcGVuZENoaWxkKG5hbWVFZGl0Qm94KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZW5lcmF0ZVNlbGVjdGVkTGlzdE5hbWVFbGVtZW50ID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgIGNvbnN0IHNlbGVjdGVkTGlzdE5hbWVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBzZWxlY3RlZExpc3ROYW1lRWxlbWVudC5pZCA9ICdzZWxlY3RlZC1saXN0LW5hbWUnO1xyXG4gICAgc2VsZWN0ZWRMaXN0TmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgcmV0dXJuIHNlbGVjdGVkTGlzdE5hbWVFbGVtZW50O1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdlbmVyYXRlVGFza0NvbnRhaW5lciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IHRhc2tDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRhc2tDb250YWluZXIuaWQgPSAnc2VsZWN0ZWQtbGlzdC10YXNrcyc7XHJcbiAgICByZXR1cm4gdGFza0NvbnRhaW5lcjtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZW5lcmF0ZVRhc2tDb2x1bW5IZWFkZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgdGFza0NvbnRhaW5lckNvbHVtbkhlYWRlcnMgPSBnZW5lcmF0ZVRhc2soXHJcbiAgICAgIG5ldyBUYXNrKCdUYXNrIG5hbWUnLCAnRHVlIGRhdGUnLCAnUHJpb3JpdHknLCAnJylcclxuICAgICk7XHJcbiAgICB0YXNrQ29udGFpbmVyQ29sdW1uSGVhZGVycy5jbGFzc0xpc3QucmVtb3ZlKCd0YXNrJyk7XHJcbiAgICB0YXNrQ29udGFpbmVyQ29sdW1uSGVhZGVycy5pZCA9ICd0YXNrLWNvbHVtbnMnO1xyXG4gICAgdGFza0NvbnRhaW5lckNvbHVtbkhlYWRlcnMucmVtb3ZlQ2hpbGQoXHJcbiAgICAgIHRhc2tDb250YWluZXJDb2x1bW5IZWFkZXJzLnF1ZXJ5U2VsZWN0b3IoJy50YXNrLWRlc2NyaXB0aW9uJylcclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuIHRhc2tDb250YWluZXJDb2x1bW5IZWFkZXJzO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdlbmVyYXRlVGFzayA9IGZ1bmN0aW9uICh0YXNrKSB7XHJcbiAgICBjb25zdCB0YXNrRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGFza0VsZW1lbnQuY2xhc3NMaXN0LmFkZCgndGFzaycpO1xyXG4gICAgdGFza0VsZW1lbnQudGFza09iamVjdCA9IHRhc2s7XHJcbiAgICBjb25zdCB0YXNrVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRhc2tUaXRsZS5jbGFzc0xpc3QuYWRkKCd0YXNrLXRpdGxlJyk7XHJcbiAgICB0YXNrVGl0bGUudGV4dENvbnRlbnQgPSB0YXNrLnRpdGxlO1xyXG4gICAgY29uc3QgdGFza0RlYWRsaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0YXNrRGVhZGxpbmUuY2xhc3NMaXN0LmFkZCgndGFzay1kZWFkbGluZScpO1xyXG4gICAgdGFza0RlYWRsaW5lLnRleHRDb250ZW50ID0gdGFzay5kdWVEYXRlO1xyXG4gICAgY29uc3QgdGFza1ByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0YXNrUHJpb3JpdHkuY2xhc3NMaXN0LmFkZCgndGFzay1wcmlvcml0eScpO1xyXG4gICAgdGFza1ByaW9yaXR5LnRleHRDb250ZW50ID0gdGFzay5wcmlvcml0eTtcclxuICAgIGNvbnN0IHRhc2tEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGFza0Rlc2NyaXB0aW9uLmNsYXNzTGlzdC5hZGQoJ3Rhc2stZGVzY3JpcHRpb24nKTtcclxuICAgIGNvbnN0IHRhc2tEZXNjcmlwdGlvblRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0YXNrRGVzY3JpcHRpb25UaXRsZS5jbGFzc0xpc3QuYWRkKCd0YXNrLWRlc2NyaXB0aW9uLXRpdGxlJyk7XHJcbiAgICB0YXNrRGVzY3JpcHRpb25UaXRsZS50ZXh0Q29udGVudCA9ICdEZXNjcmlwdGlvbjonO1xyXG4gICAgY29uc3QgdGFza0Rlc2NyaXB0aW9uVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGFza0Rlc2NyaXB0aW9uVGV4dC5jbGFzc0xpc3QuYWRkKCd0YXNrLWRlc2NyaXB0aW9uLXRleHQnKTtcclxuICAgIHRhc2tEZXNjcmlwdGlvblRleHQudGV4dENvbnRlbnQgPSB0YXNrLmRlc2NyaXB0aW9uO1xyXG4gICAgY29uc3QgdGFza0Rlc2NyaXB0aW9uQnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGFza0Rlc2NyaXB0aW9uQnV0dG9ucy5jbGFzc0xpc3QuYWRkKCd0YXNrLWRlc2NyaXB0aW9uLWJ1dHRvbnMnKTtcclxuICAgIGNvbnN0IGVkaXRUYXNrQnV0dG9uID0gZ2VuZXJhdGVFZGl0SWNvbigpO1xyXG4gICAgdGFza0VsZW1lbnQuZWRpdEJ1dHRvbiA9IGVkaXRUYXNrQnV0dG9uO1xyXG4gICAgY29uc3QgcmVtb3ZlVGFza0J1dHRvbiA9IGdlbmVyYXRlUmVtb3ZlSWNvbigpO1xyXG4gICAgdGFza0VsZW1lbnQucmVtb3ZlQnV0dG9uID0gcmVtb3ZlVGFza0J1dHRvbjtcclxuICAgIHRhc2tEZXNjcmlwdGlvbkJ1dHRvbnMuYXBwZW5kQ2hpbGQoZWRpdFRhc2tCdXR0b24pO1xyXG4gICAgdGFza0Rlc2NyaXB0aW9uQnV0dG9ucy5hcHBlbmRDaGlsZChyZW1vdmVUYXNrQnV0dG9uKTtcclxuICAgIHRhc2tEZXNjcmlwdGlvbi5hcHBlbmRDaGlsZCh0YXNrRGVzY3JpcHRpb25UaXRsZSk7XHJcbiAgICB0YXNrRGVzY3JpcHRpb24uYXBwZW5kQ2hpbGQodGFza0Rlc2NyaXB0aW9uVGV4dCk7XHJcbiAgICB0YXNrRGVzY3JpcHRpb24uYXBwZW5kQ2hpbGQodGFza0Rlc2NyaXB0aW9uQnV0dG9ucyk7XHJcbiAgICB0YXNrRWxlbWVudC5hcHBlbmRDaGlsZCh0YXNrVGl0bGUpO1xyXG4gICAgdGFza0VsZW1lbnQuYXBwZW5kQ2hpbGQodGFza0RlYWRsaW5lKTtcclxuICAgIHRhc2tFbGVtZW50LmFwcGVuZENoaWxkKHRhc2tQcmlvcml0eSk7XHJcbiAgICB0YXNrRWxlbWVudC5hcHBlbmRDaGlsZCh0YXNrRGVzY3JpcHRpb24pO1xyXG4gICAgcmV0dXJuIHRhc2tFbGVtZW50O1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGVkaXRUYXNrID0gZnVuY3Rpb24gKHRhc2tFbGVtZW50KSB7XHJcbiAgICBjb25zdCBidXR0b25Db250YWluZXIgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAnLnRhc2stZGVzY3JpcHRpb24tYnV0dG9ucydcclxuICAgICk7XHJcbiAgICBidXR0b25Db250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBjb25zdCBjaGVja0ljb24gPSBnZW5lcmF0ZUNoZWNrSWNvbigpO1xyXG4gICAgdGFza0VsZW1lbnQuY29tbWl0QnV0dG9uID0gY2hlY2tJY29uO1xyXG4gICAgYnV0dG9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGNoZWNrSWNvbik7XHJcblxyXG4gICAgY29uc3QgdGFza1RpdGxlID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2stdGl0bGUnKTtcclxuICAgIGNvbnN0IGN1cnJlbnRUaXRsZSA9IHRhc2tUaXRsZS50ZXh0Q29udGVudDtcclxuICAgIHRhc2tUaXRsZS5pbm5lckhUTUwgPSAnJztcclxuICAgIGNvbnN0IHRpdGxlRWRpdEJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICB0aXRsZUVkaXRCb3gudHlwZSA9ICd0ZXh0JztcclxuICAgIHRpdGxlRWRpdEJveC52YWx1ZSA9IGN1cnJlbnRUaXRsZTtcclxuICAgIHRpdGxlRWRpdEJveC5jbGFzc0xpc3QuYWRkKCd0YXNrLW5hbWUtZWRpdC1ib3gnKTtcclxuICAgIHRpdGxlRWRpdEJveC5jbGFzc0xpc3QuYWRkKCd0YXNrLWVkaXQtYm94Jyk7XHJcbiAgICB0YXNrVGl0bGUuYXBwZW5kQ2hpbGQodGl0bGVFZGl0Qm94KTtcclxuXHJcbiAgICBjb25zdCB0YXNrRHVlRGF0ZSA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrLWRlYWRsaW5lJyk7XHJcbiAgICBjb25zdCBjdXJyZW50RHVlRGF0ZSA9IHRhc2tEdWVEYXRlLnRleHRDb250ZW50O1xyXG4gICAgdGFza0R1ZURhdGUuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBjb25zdCBkdWVEYXRlRWRpdEJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICBkdWVEYXRlRWRpdEJveC50eXBlID0gJ3RleHQnO1xyXG4gICAgZHVlRGF0ZUVkaXRCb3gudmFsdWUgPSBjdXJyZW50RHVlRGF0ZTtcclxuICAgIGR1ZURhdGVFZGl0Qm94LmNsYXNzTGlzdC5hZGQoJ3Rhc2stZGVhZGxpbmUtZWRpdC1ib3gnKTtcclxuICAgIGR1ZURhdGVFZGl0Qm94LmNsYXNzTGlzdC5hZGQoJ3Rhc2stZWRpdC1ib3gnKTtcclxuICAgIHRhc2tEdWVEYXRlLmFwcGVuZENoaWxkKGR1ZURhdGVFZGl0Qm94KTtcclxuXHJcbiAgICBjb25zdCB0YXNrUHJpb3JpdHkgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudGFzay1wcmlvcml0eScpO1xyXG4gICAgY29uc3QgY3VycmVudFByaW9yaXR5ID0gdGFza1ByaW9yaXR5LnRleHRDb250ZW50O1xyXG4gICAgdGFza1ByaW9yaXR5LmlubmVySFRNTCA9ICcnO1xyXG4gICAgY29uc3QgcHJpb3JpdHlFZGl0Qm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgIHByaW9yaXR5RWRpdEJveC50eXBlID0gJ3RleHQnO1xyXG4gICAgcHJpb3JpdHlFZGl0Qm94LnZhbHVlID0gY3VycmVudFByaW9yaXR5O1xyXG4gICAgcHJpb3JpdHlFZGl0Qm94LmNsYXNzTGlzdC5hZGQoJ3Rhc2stcHJpb3JpdHktZWRpdC1ib3gnKTtcclxuICAgIHByaW9yaXR5RWRpdEJveC5jbGFzc0xpc3QuYWRkKCd0YXNrLWVkaXQtYm94Jyk7XHJcbiAgICB0YXNrUHJpb3JpdHkuYXBwZW5kQ2hpbGQocHJpb3JpdHlFZGl0Qm94KTtcclxuXHJcbiAgICBjb25zdCB0YXNrRGVzY3JpcHRpb24gPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudGFzay1kZXNjcmlwdGlvbi10ZXh0Jyk7XHJcbiAgICBjb25zdCBjdXJyZW50RGVzY3JpcHRpb24gPSB0YXNrRGVzY3JpcHRpb24udGV4dENvbnRlbnQ7XHJcbiAgICB0YXNrRGVzY3JpcHRpb24uaW5uZXJIVE1MID0gJyc7XHJcbiAgICBjb25zdCBkZXNjcmlwdGlvbkVkaXRCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xyXG4gICAgZGVzY3JpcHRpb25FZGl0Qm94LnZhbHVlID0gY3VycmVudERlc2NyaXB0aW9uO1xyXG4gICAgZGVzY3JpcHRpb25FZGl0Qm94LmNsYXNzTGlzdC5hZGQoJ3Rhc2stZGVzY3JpcHRpb24tZWRpdC1ib3gnKTtcclxuICAgIHRhc2tEZXNjcmlwdGlvbi5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbkVkaXRCb3gpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdlbmVyYXRlRWRpdEljb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBlZGl0SWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgZWRpdEljb24uc3JjID0gRWRpdEljb247XHJcbiAgICBlZGl0SWNvbi5pZCA9IGVkaXRCdXR0b25JRDtcclxuICAgIGVkaXRJY29uLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbicpO1xyXG4gICAgZWRpdEljb24uYWx0ID0gJ2VkaXQnO1xyXG4gICAgcmV0dXJuIGVkaXRJY29uO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdlbmVyYXRlUmVtb3ZlSWNvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IHJlbW92ZUljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgIHJlbW92ZUljb24uc3JjID0gUmVtb3ZlSWNvbjtcclxuICAgIHJlbW92ZUljb24uaWQgPSByZW1vdmVCdXR0b25JRDtcclxuICAgIHJlbW92ZUljb24uY2xhc3NMaXN0LmFkZCgnYnV0dG9uJyk7XHJcbiAgICByZW1vdmVJY29uLmFsdCA9ICdyZW1vdmUnO1xyXG4gICAgcmV0dXJuIHJlbW92ZUljb247XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2VuZXJhdGVDaGVja0ljb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBjaGVja0ljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgIGNoZWNrSWNvbi5zcmMgPSBDaGVja0ljb247XHJcbiAgICBjaGVja0ljb24uaWQgPSBjaGVja0J1dHRvbklEO1xyXG4gICAgY2hlY2tJY29uLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbicpO1xyXG4gICAgY2hlY2tJY29uLmFsdCA9ICdjb21taXQnO1xyXG4gICAgcmV0dXJuIGNoZWNrSWNvbjtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZW5lcmF0ZVBsdXNJY29uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgcGx1c0ljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgIHBsdXNJY29uLnNyYyA9IFBsdXNJY29uO1xyXG4gICAgcGx1c0ljb24uaWQgPSBwbHVzQnV0dG9uSUQ7XHJcbiAgICBwbHVzSWNvbi5jbGFzc0xpc3QuYWRkKCdidXR0b24nKTtcclxuICAgIHBsdXNJY29uLmFsdCA9ICduZXcgbGlzdCc7XHJcbiAgICByZXR1cm4gcGx1c0ljb247XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZWRpdEJ1dHRvbklEID0gJ2VkaXQtYnV0dG9uJztcclxuICBjb25zdCByZW1vdmVCdXR0b25JRCA9ICdyZW1vdmUtYnV0dG9uJztcclxuICBjb25zdCBjaGVja0J1dHRvbklEID0gJ2NvbW1pdC1idXR0b24nO1xyXG4gIGNvbnN0IHBsdXNCdXR0b25JRCA9ICdwbHVzLWJ1dHRvbic7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBnZW5lcmF0ZUxpc3QsXHJcbiAgICBlZGl0TGlzdCxcclxuICAgIGdlbmVyYXRlU2VsZWN0ZWRMaXN0TmFtZUVsZW1lbnQsXHJcbiAgICBnZW5lcmF0ZVRhc2tDb250YWluZXIsXHJcbiAgICBnZW5lcmF0ZVRhc2tDb2x1bW5IZWFkZXJzLFxyXG4gICAgZ2VuZXJhdGVUYXNrLFxyXG4gICAgZWRpdFRhc2ssXHJcbiAgICBnZW5lcmF0ZVBsdXNJY29uLFxyXG4gIH07XHJcbn0pKCk7XHJcblxyXG5leHBvcnQgeyBET01FbGVtZW50R2VuZXJhdG9yIH07XHJcbiIsImltcG9ydCB7IERPTUNvbnRyb2xsZXIgfSBmcm9tICcuL0RPTUNvbnRyb2xsZXInO1xyXG5pbXBvcnQgeyBET01FbGVtZW50R2VuZXJhdG9yIH0gZnJvbSAnLi9ET01FbGVtZW50R2VuZXJhdG9yJztcclxuaW1wb3J0IHsgTGlzdFV0aWxzIH0gZnJvbSAnLi9MaXN0VXRpbHMnO1xyXG5pbXBvcnQgeyBUYXNrVXRpbHMgfSBmcm9tICcuL1Rhc2tVdGlscyc7XHJcblxyXG5jb25zdCBET01Db250cm9sbGVyVXRpbHMgPSAoKCkgPT4ge1xyXG4gIGNvbnN0IHNldHVwVGFza1ZpZXcgPSBmdW5jdGlvbiAodGFza1ZpZXcsIHNlbGVjdGVkTGlzdE5hbWUpIHtcclxuICAgIHRhc2tWaWV3LmFwcGVuZENoaWxkKFxyXG4gICAgICBET01FbGVtZW50R2VuZXJhdG9yLmdlbmVyYXRlU2VsZWN0ZWRMaXN0TmFtZUVsZW1lbnQoc2VsZWN0ZWRMaXN0TmFtZSlcclxuICAgICk7XHJcbiAgICB0YXNrVmlldy5hcHBlbmRDaGlsZChET01FbGVtZW50R2VuZXJhdG9yLmdlbmVyYXRlVGFza0NvbHVtbkhlYWRlcnMoKSk7XHJcbiAgICBjb25zdCB0YXNrQ29udGFpbmVyID0gRE9NRWxlbWVudEdlbmVyYXRvci5nZW5lcmF0ZVRhc2tDb250YWluZXIoKTtcclxuICAgIHRhc2tWaWV3LmFwcGVuZENoaWxkKHRhc2tDb250YWluZXIpO1xyXG4gICAgY29uc3QgbmV3VGFza0J1dHRvbiA9IERPTUVsZW1lbnRHZW5lcmF0b3IuZ2VuZXJhdGVQbHVzSWNvbigpO1xyXG4gICAgbmV3VGFza0J1dHRvbi5pZCA9ICduZXctdGFzay1idXR0b24nO1xyXG4gICAgbmV3VGFza0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIERPTUNvbnRyb2xsZXIuYWRkVGFzayk7XHJcbiAgICB0YXNrVmlldy5hcHBlbmRDaGlsZChuZXdUYXNrQnV0dG9uKTtcclxuXHJcbiAgICByZXR1cm4gdGFza0NvbnRhaW5lcjtcclxuICB9O1xyXG5cclxuICBjb25zdCBsaXN0VXRpbHMgPSBMaXN0VXRpbHM7XHJcbiAgY29uc3QgdGFza1V0aWxzID0gVGFza1V0aWxzO1xyXG5cclxuICByZXR1cm4geyBzZXR1cFRhc2tWaWV3LCBsaXN0VXRpbHMsIHRhc2tVdGlscyB9O1xyXG59KSgpO1xyXG5cclxuZXhwb3J0IHsgRE9NQ29udHJvbGxlclV0aWxzIH07XHJcbiIsImltcG9ydCB7IExpc3QgfSBmcm9tICcuL1RvRG9MaXN0JztcclxuaW1wb3J0IHsgRE9NRWxlbWVudEdlbmVyYXRvciB9IGZyb20gJy4vRE9NRWxlbWVudEdlbmVyYXRvcic7XHJcbmltcG9ydCB7IERPTUNvbnRyb2xsZXIgfSBmcm9tICcuL0RPTUNvbnRyb2xsZXInO1xyXG5pbXBvcnQgeyBQZXJzaXN0ZW5jZVV0aWxzIH0gZnJvbSAnLi9QZXJzaXN0ZW5jZVV0aWxzJztcclxuXHJcbmNvbnN0IExpc3RVdGlscyA9ICgoKSA9PiB7XHJcbiAgY29uc3QgY3JlYXRlTGlzdEVsZW1lbnQgPSBmdW5jdGlvbiAobGlzdCkge1xyXG4gICAgY29uc3QgbmV3TGlzdEVsZW1lbnQgPSBET01FbGVtZW50R2VuZXJhdG9yLmdlbmVyYXRlTGlzdChsaXN0KTtcclxuICAgIG5ld0xpc3RFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2V0U2VsZWN0ZWRMaXN0KTtcclxuICAgIG5ld0xpc3RFbGVtZW50LmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlZGl0TGlzdCk7XHJcbiAgICBuZXdMaXN0RWxlbWVudC5yZW1vdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVMaXN0KTtcclxuICAgIHJldHVybiBuZXdMaXN0RWxlbWVudDtcclxuICB9O1xyXG5cclxuICBjb25zdCBlZGl0TGlzdCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBjb25zdCBsaXN0RWxlbWVudCA9IGdldExpc3RET01FbGVtZW50RnJvbUNoaWxkRWxlbWVudChldmVudC50YXJnZXQpO1xyXG4gICAgRE9NRWxlbWVudEdlbmVyYXRvci5lZGl0TGlzdChsaXN0RWxlbWVudCk7XHJcbiAgICBsaXN0RWxlbWVudC5jb21taXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjb21taXRFZGl0TGlzdCk7XHJcbiAgICBjb25zdCBsaXN0TmFtZUVkaXRCb3ggPSBsaXN0RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcubGlzdC1uYW1lLWVkaXQtYm94Jyk7XHJcbiAgICBsaXN0TmFtZUVkaXRCb3guYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCBjb21taXRFZGl0TGlzdCk7XHJcbiAgICBsaXN0TmFtZUVkaXRCb3guZm9jdXMoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBjb21taXRFZGl0TGlzdCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBjb25zdCBsaXN0RWxlbWVudCA9IGdldExpc3RET01FbGVtZW50RnJvbUNoaWxkRWxlbWVudChldmVudC50YXJnZXQpO1xyXG4gICAgY29uc3QgbGlzdCA9IGxpc3RFbGVtZW50Lmxpc3RPYmplY3Q7XHJcbiAgICBjb25zdCBuZXdOYW1lID0gbGlzdEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmxpc3QtbmFtZS1lZGl0LWJveCcpLnZhbHVlO1xyXG4gICAgY29uc3Qgb2xkTmFtZSA9IGxpc3QubmFtZTtcclxuICAgIGNvbnN0IHJlcGxhY2VFbGVtZW50SW5kZXggPSBET01Db250cm9sbGVyLmxpc3RET01FbGVtZW50cy5maW5kSW5kZXgoXHJcbiAgICAgIChsKSA9PiBsLmxpc3RPYmplY3QubmFtZSA9PT0gb2xkTmFtZVxyXG4gICAgKTtcclxuICAgIGxpc3QubmFtZSA9IG5ld05hbWU7XHJcbiAgICBjb25zdCBuZXdMaXN0RWxlbWVudCA9IGNyZWF0ZUxpc3RFbGVtZW50KGxpc3QpO1xyXG4gICAgRE9NQ29udHJvbGxlci5saXN0RE9NRWxlbWVudHNbcmVwbGFjZUVsZW1lbnRJbmRleF0gPSBuZXdMaXN0RWxlbWVudDtcclxuICAgIERPTUNvbnRyb2xsZXIuZGlzcGxheUxpc3RzKCk7XHJcbiAgICBQZXJzaXN0ZW5jZVV0aWxzLnN0b3JlTG9jYWxEYXRhKERPTUNvbnRyb2xsZXIubGlzdHMpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlbW92ZUxpc3QgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgY29uc3QgbGlzdERPTUVsZW1lbnQgPSBnZXRMaXN0RE9NRWxlbWVudEZyb21DaGlsZEVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcclxuICAgIGNvbnN0IGxpc3QgPSBsaXN0RE9NRWxlbWVudC5saXN0T2JqZWN0O1xyXG4gICAgaWYgKGxpc3RET01FbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xyXG4gICAgICBET01Db250cm9sbGVyLmdldFNlbGVjdGVkTGlzdCA9IG51bGw7XHJcbiAgICAgIERPTUNvbnRyb2xsZXIuZGlzcGxheVRhc2tzKCk7XHJcbiAgICB9XHJcbiAgICBsaXN0RE9NRWxlbWVudC5yZW1vdmUoKTtcclxuICAgIERPTUNvbnRyb2xsZXIucmVtb3ZlTGlzdChsaXN0LCBsaXN0RE9NRWxlbWVudCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc2V0U2VsZWN0ZWRMaXN0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBjb25zdCBjbGlja2VkTGlzdCA9IGdldExpc3RET01FbGVtZW50RnJvbUNoaWxkRWxlbWVudChldmVudC50YXJnZXQpO1xyXG5cclxuICAgIEFycmF5LmZyb20oY2xpY2tlZExpc3QucGFyZW50Tm9kZS5jaGlsZE5vZGVzKS5mb3JFYWNoKChzaWJsaW5nKSA9PiB7XHJcbiAgICAgIHNpYmxpbmcuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcclxuICAgIH0pO1xyXG4gICAgY2xpY2tlZExpc3QuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcclxuICAgIERPTUNvbnRyb2xsZXIuc2V0U2VsZWN0ZWQoY2xpY2tlZExpc3QpO1xyXG4gICAgRE9NQ29udHJvbGxlci5kaXNwbGF5VGFza3MoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBhZGROZXdMaXN0QnV0dG9uID0gZnVuY3Rpb24gKGxpc3RDb250YWluZXJFbGVtZW50KSB7XHJcbiAgICBjb25zdCBuZXdMaXN0QnV0dG9uID0gRE9NRWxlbWVudEdlbmVyYXRvci5nZW5lcmF0ZVBsdXNJY29uKCk7XHJcbiAgICBuZXdMaXN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlTmV3TGlzdCk7XHJcbiAgICBsaXN0Q29udGFpbmVyRWxlbWVudC5hcHBlbmRDaGlsZChuZXdMaXN0QnV0dG9uKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVOZXdMaXN0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBjb25zdCBuZXdMaXN0ID0gbmV3IExpc3QoJycpO1xyXG4gICAgRE9NQ29udHJvbGxlci5hZGRMaXN0KG5ld0xpc3QpO1xyXG4gICAgRE9NQ29udHJvbGxlci5kaXNwbGF5TGlzdHMoKTtcclxuICAgIGNvbnN0IG5ld0V2ZW50ID0ge1xyXG4gICAgICBzdG9wUHJvcGFnYXRpb246ICgpID0+IHt9LFxyXG4gICAgICB0YXJnZXQ6IGdldExpc3RET01FbGVtZW50RnJvbUxpc3QobmV3TGlzdCksXHJcbiAgICB9O1xyXG4gICAgZWRpdExpc3QobmV3RXZlbnQpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdldExpc3RET01FbGVtZW50RnJvbUxpc3QgPSBmdW5jdGlvbiAobGlzdCkge1xyXG4gICAgcmV0dXJuIERPTUNvbnRyb2xsZXIubGlzdERPTUVsZW1lbnRzLmZpbmQoXHJcbiAgICAgIChsKSA9PiBsLmxpc3RPYmplY3QubmFtZSA9PT0gbGlzdC5uYW1lXHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdldExpc3RET01FbGVtZW50RnJvbUNoaWxkRWxlbWVudCA9IGZ1bmN0aW9uIChlbGVtKSB7XHJcbiAgICBsZXQgbGlzdEVsZW1lbnQgPSBlbGVtO1xyXG4gICAgd2hpbGUgKFxyXG4gICAgICAobGlzdEVsZW1lbnQgIT09IG51bGwgfHwgbGlzdEVsZW1lbnQgIT09IHVuZGVmaW5lZCkgJiZcclxuICAgICAgIWxpc3RFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnbGlzdCcpXHJcbiAgICApIHtcclxuICAgICAgbGlzdEVsZW1lbnQgPSBsaXN0RWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxpc3RFbGVtZW50O1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBjcmVhdGVMaXN0RWxlbWVudCxcclxuICAgIGFkZE5ld0xpc3RCdXR0b24sXHJcbiAgICBnZXRMaXN0RE9NRWxlbWVudEZyb21MaXN0LFxyXG4gICAgZ2V0TGlzdERPTUVsZW1lbnRGcm9tQ2hpbGRFbGVtZW50LFxyXG4gIH07XHJcbn0pKCk7XHJcblxyXG5leHBvcnQgeyBMaXN0VXRpbHMgfTtcclxuIiwiaW1wb3J0IHsgRE9NRWxlbWVudEdlbmVyYXRvciB9IGZyb20gJy4vRE9NRWxlbWVudEdlbmVyYXRvcic7XHJcbmltcG9ydCB7IERPTUNvbnRyb2xsZXIgfSBmcm9tICcuL0RPTUNvbnRyb2xsZXInO1xyXG5pbXBvcnQgeyBQZXJzaXN0ZW5jZVV0aWxzIH0gZnJvbSAnLi9QZXJzaXN0ZW5jZVV0aWxzJztcclxuXHJcbmNvbnN0IFRhc2tVdGlscyA9ICgoKSA9PiB7XHJcbiAgY29uc3QgYWRkVGFzayA9IGZ1bmN0aW9uICh0YXNrKSB7XHJcbiAgICBjb25zdCBuZXdUYXNrRWxlbWVudCA9IGNyZWF0ZVRhc2tFbGVtZW50KHRhc2spO1xyXG4gICAgbmV3VGFza0VsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlY3RlZC1saXN0LXRhc2tzJykuYXBwZW5kQ2hpbGQobmV3VGFza0VsZW1lbnQpO1xyXG4gICAgY29uc3QgZHVtbXlFdmVudCA9IHtcclxuICAgICAgdGFyZ2V0OiBuZXdUYXNrRWxlbWVudCxcclxuICAgICAgc3RvcFByb3BhZ2F0aW9uOiAoKSA9PiB7fSxcclxuICAgIH07XHJcbiAgICBlZGl0VGFzayhkdW1teUV2ZW50KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBjcmVhdGVUYXNrRWxlbWVudCA9IGZ1bmN0aW9uICh0YXNrKSB7XHJcbiAgICBjb25zdCB0YXNrRWxlbWVudCA9IERPTUVsZW1lbnRHZW5lcmF0b3IuZ2VuZXJhdGVUYXNrKHRhc2spO1xyXG4gICAgaWYgKHRhc2suc2VsZWN0ZWQpIHtcclxuICAgICAgdGFza0VsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcclxuICAgIH1cclxuICAgIHRhc2tFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2V0U2VsZWN0ZWRUYXNrKTtcclxuICAgIHRhc2tFbGVtZW50LmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlZGl0VGFzayk7XHJcbiAgICB0YXNrRWxlbWVudC5yZW1vdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVUYXNrKTtcclxuICAgIHJldHVybiB0YXNrRWxlbWVudDtcclxuICB9O1xyXG5cclxuICBjb25zdCBlZGl0VGFzayA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBjb25zdCB0YXNrRWxlbWVudCA9IGdldFRhc2tET01FbGVtZW50RnJvbUNoaWxkRWxlbWVudChldmVudC50YXJnZXQpO1xyXG4gICAgRE9NRWxlbWVudEdlbmVyYXRvci5lZGl0VGFzayhcclxuICAgICAgZ2V0VGFza0RPTUVsZW1lbnRGcm9tQ2hpbGRFbGVtZW50KHRhc2tFbGVtZW50KVxyXG4gICAgKTtcclxuICAgIHRhc2tFbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKCcudGFzay1lZGl0LWJveCcpXHJcbiAgICAgIC5mb3JFYWNoKChiKSA9PlxyXG4gICAgICAgIGIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpKVxyXG4gICAgICApO1xyXG4gICAgY29uc3QgdGFza0Rlc2NyaXB0aW9uRWRpdEJveCA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICcudGFzay1kZXNjcmlwdGlvbi1lZGl0LWJveCdcclxuICAgICk7XHJcbiAgICB0YXNrRGVzY3JpcHRpb25FZGl0Qm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PlxyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxyXG4gICAgKTtcclxuICAgIHRhc2tEZXNjcmlwdGlvbkVkaXRCb3guZm9jdXMoKTtcclxuICAgIHRhc2tFbGVtZW50LmNvbW1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNvbW1pdEVkaXRUYXNrKTtcclxuICAgIHRhc2tFbGVtZW50LmJlaW5nRWRpdGVkID0gdHJ1ZTtcclxuICAgIHRhc2tFbGVtZW50LnRhc2tPYmplY3QuYmVpbmdFZGl0ZWQgPSB0cnVlO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNvbW1pdEVkaXRUYXNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gZ2V0VGFza0RPTUVsZW1lbnRGcm9tQ2hpbGRFbGVtZW50KGV2ZW50LnRhcmdldCk7XHJcbiAgICB0YXNrRWxlbWVudC5iZWluZ0VkaXRlZCA9IGZhbHNlO1xyXG4gICAgdGFza0VsZW1lbnQudGFza09iamVjdC5iZWluZ0VkaXRlZCA9IGZhbHNlO1xyXG4gICAgY29uc3QgdGFzayA9IHRhc2tFbGVtZW50LnRhc2tPYmplY3Q7XHJcbiAgICBjb25zdCBuZXdUaXRsZSA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrLW5hbWUtZWRpdC1ib3gnKS52YWx1ZTtcclxuICAgIGNvbnN0IG5ld0R1ZURhdGUgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAnLnRhc2stZGVhZGxpbmUtZWRpdC1ib3gnXHJcbiAgICApLnZhbHVlO1xyXG4gICAgY29uc3QgbmV3UHJpb3JpdHkgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAnLnRhc2stcHJpb3JpdHktZWRpdC1ib3gnXHJcbiAgICApLnZhbHVlO1xyXG4gICAgY29uc3QgbmV3RGVzY3JpcHRpb24gPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAnLnRhc2stZGVzY3JpcHRpb24tZWRpdC1ib3gnXHJcbiAgICApLnZhbHVlO1xyXG4gICAgdGFzay50aXRsZSA9IG5ld1RpdGxlO1xyXG4gICAgdGFzay5kdWVEYXRlID0gbmV3RHVlRGF0ZTtcclxuICAgIHRhc2sucHJpb3JpdHkgPSBuZXdQcmlvcml0eTtcclxuICAgIHRhc2suZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvbjtcclxuICAgIGNvbnN0IG5ld1Rhc2tFbGVtZW50ID0gY3JlYXRlVGFza0VsZW1lbnQodGFzayk7XHJcbiAgICB0YXNrRWxlbWVudC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChuZXdUYXNrRWxlbWVudCwgdGFza0VsZW1lbnQpO1xyXG4gICAgaWYgKG5ld1RpdGxlID09PSBudWxsIHx8IG5ld1RpdGxlID09PSAnJykge1xyXG4gICAgICBET01Db250cm9sbGVyLmdldFNlbGVjdGVkTGlzdCgpLnJlbW92ZVRhc2sodGFzayk7XHJcbiAgICAgIG5ld1Rhc2tFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgUGVyc2lzdGVuY2VVdGlscy5zdG9yZUxvY2FsRGF0YShET01Db250cm9sbGVyLmxpc3RzKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBkdW1teUNvbW1pdEVkaXRUYXNrID0gZnVuY3Rpb24gKHRhc2spIHtcclxuICAgIGNvbnN0IGR1bW15RXZlbnQgPSB7XHJcbiAgICAgIHRhcmdldDogdGFzayxcclxuICAgICAgc3RvcFByb3BhZ2F0aW9uOiAoKSA9PiB7fSxcclxuICAgIH07XHJcbiAgICBjb21taXRFZGl0VGFzayhkdW1teUV2ZW50KTtcclxuICB9O1xyXG5cclxuICBjb25zdCByZW1vdmVUYXNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gZ2V0VGFza0RPTUVsZW1lbnRGcm9tQ2hpbGRFbGVtZW50KGV2ZW50LnRhcmdldCk7XHJcbiAgICBjb25zdCB0YXNrT2JqZWN0ID0gdGFza0VsZW1lbnQudGFza09iamVjdDtcclxuICAgIERPTUNvbnRyb2xsZXIuZ2V0U2VsZWN0ZWRMaXN0KCkucmVtb3ZlVGFzayh0YXNrT2JqZWN0KTtcclxuICAgIHRhc2tFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgUGVyc2lzdGVuY2VVdGlscy5zdG9yZUxvY2FsRGF0YShET01Db250cm9sbGVyLmxpc3RzKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBzZXRTZWxlY3RlZFRhc2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGxldCB0YXNrRWxlbWVudCA9IGdldFRhc2tET01FbGVtZW50RnJvbUNoaWxkRWxlbWVudChldmVudC50YXJnZXQpO1xyXG4gICAgaWYgKHRhc2tFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xyXG4gICAgICB0YXNrRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xyXG4gICAgICB0YXNrRWxlbWVudC50YXNrT2JqZWN0LnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgIGlmICh0YXNrRWxlbWVudC5iZWluZ0VkaXRlZCkge1xyXG4gICAgICAgIGR1bW15Q29tbWl0RWRpdFRhc2sodGFza0VsZW1lbnQpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0YXNrRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xyXG4gICAgICB0YXNrRWxlbWVudC50YXNrT2JqZWN0LnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRUYXNrRE9NRWxlbWVudEZyb21DaGlsZEVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbSkge1xyXG4gICAgbGV0IHRhc2tFbGVtZW50ID0gZWxlbTtcclxuICAgIHdoaWxlIChcclxuICAgICAgKHRhc2tFbGVtZW50ICE9PSBudWxsIHx8IHRhc2tFbGVtZW50ICE9PSB1bmRlZmluZWQpICYmXHJcbiAgICAgICF0YXNrRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3Rhc2snKVxyXG4gICAgKSB7XHJcbiAgICAgIHRhc2tFbGVtZW50ID0gdGFza0VsZW1lbnQucGFyZW50RWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGFza0VsZW1lbnQ7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0VGFza0RPTUVsZW1lbnRGcm9tVGFzayA9IGZ1bmN0aW9uICh0YXNrKSB7XHJcbiAgICBjb25zdCB0YXNrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXNrJyk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhc2tzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmICh0YXNrc1tpXS50YXNrT2JqZWN0ID09PSB0YXNrKSB7XHJcbiAgICAgICAgcmV0dXJuIHRhc2tzW2ldO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlVGFza3NCZWluZ0VkaXRlZCA9IGZ1bmN0aW9uICh0YXNrcykge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YXNrcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAodGFza3NbaV0uYmVpbmdFZGl0ZWQpIHtcclxuICAgICAgICBkdW1teUNvbW1pdEVkaXRUYXNrKGdldFRhc2tET01FbGVtZW50RnJvbVRhc2sodGFza3NbaV0pKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHJldHVybiB7IGFkZFRhc2ssIGNyZWF0ZVRhc2tFbGVtZW50LCBoYW5kbGVUYXNrc0JlaW5nRWRpdGVkIH07XHJcbn0pKCk7XHJcblxyXG5leHBvcnQgeyBUYXNrVXRpbHMgfTtcclxuIiwiaW1wb3J0IHsgRE9NQ29udHJvbGxlclV0aWxzIH0gZnJvbSAnLi9ET01Db250cm9sbGVyVXRpbHMnO1xyXG5pbXBvcnQgeyBQZXJzaXN0ZW5jZVV0aWxzIH0gZnJvbSAnLi9QZXJzaXN0ZW5jZVV0aWxzJztcclxuXHJcbmNvbnN0IERPTUNvbnRyb2xsZXIgPSAoKCkgPT4ge1xyXG4gIGxldCBsaXN0cyA9IFtdO1xyXG4gIGxldCBsaXN0RE9NRWxlbWVudHMgPSBbXTtcclxuICBsZXQgc2VsZWN0ZWRMaXN0O1xyXG5cclxuICBjb25zdCBkaXNwbGF5TGlzdHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBsaXN0U2VsZWN0aW9uRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXN0LXNlbGVjdGlvbicpO1xyXG4gICAgbGlzdFNlbGVjdGlvbkVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBjb25zdCBsaXN0Q29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgbGlzdENvbnRhaW5lckVsZW1lbnQuaWQgPSAnbGlzdHMnO1xyXG4gICAgbGlzdFNlbGVjdGlvbkVsZW1lbnQuYXBwZW5kQ2hpbGQobGlzdENvbnRhaW5lckVsZW1lbnQpO1xyXG4gICAgRE9NQ29udHJvbGxlclV0aWxzLmxpc3RVdGlscy5hZGROZXdMaXN0QnV0dG9uKGxpc3RTZWxlY3Rpb25FbGVtZW50KTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdERPTUVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGxpc3RDb250YWluZXJFbGVtZW50LmFwcGVuZENoaWxkKGxpc3RET01FbGVtZW50c1tpXSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZGlzcGxheVRhc2tzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgdGFza1ZpZXcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFzay12aWV3Jyk7XHJcbiAgICB0YXNrVmlldy5pbm5lckhUTUwgPSAnJztcclxuXHJcbiAgICBpZiAoc2VsZWN0ZWRMaXN0ID09PSBudWxsKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0YXNrQ29udGFpbmVyID0gRE9NQ29udHJvbGxlclV0aWxzLnNldHVwVGFza1ZpZXcoXHJcbiAgICAgIHRhc2tWaWV3LFxyXG4gICAgICBzZWxlY3RlZExpc3QubmFtZVxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCBsaXN0VGFza3MgPSBzZWxlY3RlZExpc3QudGFza3M7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RUYXNrcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBjdXJyZW50VGFza0VsZW1lbnQgPSBET01Db250cm9sbGVyVXRpbHMudGFza1V0aWxzLmNyZWF0ZVRhc2tFbGVtZW50KFxyXG4gICAgICAgIGxpc3RUYXNrc1tpXVxyXG4gICAgICApO1xyXG4gICAgICB0YXNrQ29udGFpbmVyLmFwcGVuZENoaWxkKGN1cnJlbnRUYXNrRWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYWRkTGlzdCA9IGZ1bmN0aW9uIChsaXN0KSB7XHJcbiAgICBsaXN0cy5wdXNoKGxpc3QpO1xyXG4gICAgY29uc3QgbmV3TGlzdEVsZW1lbnQgPSBET01Db250cm9sbGVyVXRpbHMubGlzdFV0aWxzLmNyZWF0ZUxpc3RFbGVtZW50KGxpc3QpO1xyXG4gICAgbGlzdERPTUVsZW1lbnRzLnB1c2gobmV3TGlzdEVsZW1lbnQpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlbW92ZUxpc3QgPSBmdW5jdGlvbiAobGlzdCwgbGlzdERPTUVsZW1lbnQpIHtcclxuICAgIGxpc3RzID0gbGlzdHMuZmlsdGVyKChsKSA9PiBsICE9PSBsaXN0KTtcclxuICAgIGxpc3RET01FbGVtZW50cyA9IGxpc3RET01FbGVtZW50cy5maWx0ZXIoKGQpID0+IGQgIT09IGxpc3RET01FbGVtZW50KTtcclxuICAgIFBlcnNpc3RlbmNlVXRpbHMuc3RvcmVMb2NhbERhdGEobGlzdHMpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGFkZFRhc2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGNvbnN0IG5ld1Rhc2sgPSBzZWxlY3RlZExpc3QuYWRkVGFzaygnJywgJycsICcnLCAnJyk7XHJcbiAgICBuZXdUYXNrLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgIERPTUNvbnRyb2xsZXJVdGlscy50YXNrVXRpbHMuYWRkVGFzayhuZXdUYXNrKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBzZXRTZWxlY3RlZCA9IGZ1bmN0aW9uIChjbGlja2VkTGlzdCkge1xyXG4gICAgaWYgKHNlbGVjdGVkTGlzdCAhPT0gY2xpY2tlZExpc3QubGlzdE9iamVjdCkge1xyXG4gICAgICBpZiAoc2VsZWN0ZWRMaXN0ICE9PSBudWxsICYmIHNlbGVjdGVkTGlzdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgRE9NQ29udHJvbGxlclV0aWxzLnRhc2tVdGlscy5oYW5kbGVUYXNrc0JlaW5nRWRpdGVkKHNlbGVjdGVkTGlzdC50YXNrcyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHNlbGVjdGVkTGlzdCA9IGNsaWNrZWRMaXN0Lmxpc3RPYmplY3Q7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0U2VsZWN0ZWRMaXN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHNlbGVjdGVkTGlzdDtcclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgZGlzcGxheUxpc3RzLFxyXG4gICAgZGlzcGxheVRhc2tzLFxyXG4gICAgYWRkTGlzdCxcclxuICAgIHJlbW92ZUxpc3QsXHJcbiAgICBhZGRUYXNrLFxyXG4gICAgZ2V0U2VsZWN0ZWRMaXN0LFxyXG4gICAgc2V0U2VsZWN0ZWQsXHJcbiAgICBsaXN0cyxcclxuICAgIGxpc3RET01FbGVtZW50cyxcclxuICB9O1xyXG59KSgpO1xyXG5cclxuZXhwb3J0IHsgRE9NQ29udHJvbGxlciB9O1xyXG4iLCJpbXBvcnQgeyBQZXJzaXN0ZW5jZVV0aWxzIH0gZnJvbSAnLi9QZXJzaXN0ZW5jZVV0aWxzJztcclxuaW1wb3J0IHsgTGlzdCB9IGZyb20gJy4vVG9Eb0xpc3QnO1xyXG5pbXBvcnQgeyBET01Db250cm9sbGVyIH0gZnJvbSAnLi9ET01Db250cm9sbGVyJztcclxuXHJcbmZ1bmN0aW9uIGxvYWREYXRhKCkge1xyXG4gIGlmIChQZXJzaXN0ZW5jZVV0aWxzLmNoZWNrU3RvcmFnZUF2YWlsYWJsZSgnbG9jYWxTdG9yYWdlJykpIHtcclxuICAgIGNvbnN0IGxvY2FsU3RvcmFnZURhdGEgPSBQZXJzaXN0ZW5jZVV0aWxzLmdldExvY2FsU3RvcmFnZURhdGEoKTtcclxuICAgIGlmIChcclxuICAgICAgbG9jYWxTdG9yYWdlRGF0YSAhPT0gbnVsbCAmJlxyXG4gICAgICBsb2NhbFN0b3JhZ2VEYXRhICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgbG9jYWxTdG9yYWdlRGF0YSAhPT0gJydcclxuICAgICkge1xyXG4gICAgICBjb25zdCBsb2FkZWREYXRhID0gUGVyc2lzdGVuY2VVdGlscy5wYXJzZURhdGEobG9jYWxTdG9yYWdlRGF0YSk7XHJcbiAgICAgIGlmIChsb2FkZWREYXRhID09PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZURlZmF1bHRDb250ZW50KCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2xpc3RDb250YWluZXInKTtcclxuICAgICAgICByZXR1cm4gbG9hZGVkRGF0YTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGNyZWF0ZURlZmF1bHRDb250ZW50KCk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBjcmVhdGVEZWZhdWx0Q29udGVudCgpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlRGVmYXVsdENvbnRlbnQoKSB7XHJcbiAgY29uc3QgbGlzdENvbnRhaW5lciA9IFtdO1xyXG4gIGNvbnN0IGRhaWx5TGlzdCA9IG5ldyBMaXN0KCdEYWlseScpO1xyXG4gIGRhaWx5TGlzdC5hZGRUYXNrKFxyXG4gICAgJ0NsZWFuIHVwJyxcclxuICAgICcwNS8xNC8yMDAzJyxcclxuICAgIDUsXHJcbiAgICAnTWFrZSB0aGUga2l0Y2hlbiwgdmFjY3V1bSB0aGUgc2hvd2VyIGFuZCB3YXNoIHRoZSBjZWlsaW5nJ1xyXG4gICk7XHJcbiAgZGFpbHlMaXN0LmFkZFRhc2soXHJcbiAgICAnQnV5IGZvb2QnLFxyXG4gICAgJzA1LzE0LzIwMDMnLFxyXG4gICAgMixcclxuICAgICdOZWVkIHRvIGJ1eTogb25pb25zLCBydWJiZXIgZ2xvdmVzLCBsb3Rpb24sIHByaW5nbGVzIGNhbiwgc3BvbmdlJ1xyXG4gICk7XHJcbiAgbGlzdENvbnRhaW5lci5wdXNoKGRhaWx5TGlzdCk7XHJcbiAgbGlzdENvbnRhaW5lci5wdXNoKG5ldyBMaXN0KCdNb250aGx5JykpO1xyXG4gIHJldHVybiBsaXN0Q29udGFpbmVyO1xyXG59XHJcblxyXG5jb25zdCBsaXN0Q29udGFpbmVyID0gbG9hZERhdGEobGlzdENvbnRhaW5lcik7XHJcbmxpc3RDb250YWluZXIuZm9yRWFjaCgobCkgPT4gRE9NQ29udHJvbGxlci5hZGRMaXN0KGwpKTtcclxuRE9NQ29udHJvbGxlci5kaXNwbGF5TGlzdHMoKTtcclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJkb2N1bWVudCIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJFcnJvciIsInJlcGxhY2UiLCJwIiwiTGlzdCIsIm5hbWUiLCJ0YXNrcyIsImFkZFRhc2siLCJ0aXRsZSIsImR1ZURhdGUiLCJwcmlvcml0eSIsImRlc2NyaXB0aW9uIiwibmV3VGFzayIsIlRhc2siLCJwdXNoIiwicmVtb3ZlVGFzayIsInRhc2siLCJmaWx0ZXIiLCJ0IiwidG9TdHJpbmciLCJvdXRwdXQiLCJQZXJzaXN0ZW5jZVV0aWxzIiwibGlzdEFuZFRhc2tEZWxpbWl0ZXIiLCJmb3JFYWNoIiwidGFza0RlbGltaXRlciIsImxpc3REZWxpbWl0ZXIiLCJzZWxlY3RlZCIsImJlaW5nRWRpdGVkIiwiY29uY2F0IiwidGFza0VsZW1lbnREZWxpbWl0ZXIiLCJwYXJzZUxpc3QiLCJsaXN0U3RyaW5nIiwibGlzdE5hbWUiLCJ0YXNrc1N0cmluZyIsInNwbGl0IiwibGlzdCIsInNwbGl0VGFza1N0cmluZ3MiLCJCb29sZWFuIiwiaSIsInRhc2tQYXJhbXMiLCJwYXJzZVRhc2siLCJ0YXNrU3RyaW5nIiwiY2hlY2tTdG9yYWdlQXZhaWxhYmxlIiwidHlwZSIsInN0b3JhZ2UiLCJ4Iiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJnZXRMb2NhbFN0b3JhZ2VEYXRhIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInN0b3JlTG9jYWxEYXRhIiwiZGF0YSIsImRhdGFTdHJpbmciLCJyZWR1Y2UiLCJhY2N1bXVsYXRvciIsImN1cnJlbnRMaXN0IiwicGFyc2VEYXRhIiwibGlzdFN0cmluZ3MiLCJsaXN0cyIsIkRPTUVsZW1lbnRHZW5lcmF0b3IiLCJnZW5lcmF0ZVRhc2siLCJ0YXNrRWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0YXNrT2JqZWN0IiwidGFza1RpdGxlIiwidGV4dENvbnRlbnQiLCJ0YXNrRGVhZGxpbmUiLCJ0YXNrUHJpb3JpdHkiLCJ0YXNrRGVzY3JpcHRpb24iLCJ0YXNrRGVzY3JpcHRpb25UaXRsZSIsInRhc2tEZXNjcmlwdGlvblRleHQiLCJ0YXNrRGVzY3JpcHRpb25CdXR0b25zIiwiZWRpdFRhc2tCdXR0b24iLCJnZW5lcmF0ZUVkaXRJY29uIiwiZWRpdEJ1dHRvbiIsInJlbW92ZVRhc2tCdXR0b24iLCJnZW5lcmF0ZVJlbW92ZUljb24iLCJyZW1vdmVCdXR0b24iLCJhcHBlbmRDaGlsZCIsImVkaXRJY29uIiwiaWQiLCJlZGl0QnV0dG9uSUQiLCJhbHQiLCJyZW1vdmVJY29uIiwicmVtb3ZlQnV0dG9uSUQiLCJnZW5lcmF0ZUNoZWNrSWNvbiIsImNoZWNrSWNvbiIsImNoZWNrQnV0dG9uSUQiLCJnZW5lcmF0ZUxpc3QiLCJsaXN0RWxlbWVudCIsImxpc3RPYmplY3QiLCJsaXN0TmFtZVdyYXBwZXIiLCJidXR0b25zIiwiZWRpdExpc3QiLCJidXR0b25Db250YWluZXIiLCJxdWVyeVNlbGVjdG9yIiwiaW5uZXJIVE1MIiwiY29tbWl0QnV0dG9uIiwiY3VycmVudE5hbWUiLCJuYW1lRWRpdEJveCIsInZhbHVlIiwiZ2VuZXJhdGVTZWxlY3RlZExpc3ROYW1lRWxlbWVudCIsInNlbGVjdGVkTGlzdE5hbWVFbGVtZW50IiwiZ2VuZXJhdGVUYXNrQ29udGFpbmVyIiwidGFza0NvbnRhaW5lciIsImdlbmVyYXRlVGFza0NvbHVtbkhlYWRlcnMiLCJ0YXNrQ29udGFpbmVyQ29sdW1uSGVhZGVycyIsInJlbW92ZSIsInJlbW92ZUNoaWxkIiwiZWRpdFRhc2siLCJjdXJyZW50VGl0bGUiLCJ0aXRsZUVkaXRCb3giLCJ0YXNrRHVlRGF0ZSIsImN1cnJlbnREdWVEYXRlIiwiZHVlRGF0ZUVkaXRCb3giLCJjdXJyZW50UHJpb3JpdHkiLCJwcmlvcml0eUVkaXRCb3giLCJjdXJyZW50RGVzY3JpcHRpb24iLCJkZXNjcmlwdGlvbkVkaXRCb3giLCJnZW5lcmF0ZVBsdXNJY29uIiwicGx1c0ljb24iLCJET01Db250cm9sbGVyVXRpbHMiLCJzZXR1cFRhc2tWaWV3IiwidGFza1ZpZXciLCJzZWxlY3RlZExpc3ROYW1lIiwibmV3VGFza0J1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJET01Db250cm9sbGVyIiwibGlzdFV0aWxzIiwiY3JlYXRlTGlzdEVsZW1lbnQiLCJuZXdMaXN0RWxlbWVudCIsInNldFNlbGVjdGVkTGlzdCIsInJlbW92ZUxpc3QiLCJldmVudCIsInN0b3BQcm9wYWdhdGlvbiIsImdldExpc3RET01FbGVtZW50RnJvbUNoaWxkRWxlbWVudCIsInRhcmdldCIsImNvbW1pdEVkaXRMaXN0IiwibGlzdE5hbWVFZGl0Qm94IiwiZm9jdXMiLCJuZXdOYW1lIiwib2xkTmFtZSIsInJlcGxhY2VFbGVtZW50SW5kZXgiLCJsaXN0RE9NRWxlbWVudHMiLCJmaW5kSW5kZXgiLCJsIiwiZGlzcGxheUxpc3RzIiwibGlzdERPTUVsZW1lbnQiLCJjb250YWlucyIsImdldFNlbGVjdGVkTGlzdCIsImRpc3BsYXlUYXNrcyIsImNsaWNrZWRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicGFyZW50Tm9kZSIsImNoaWxkTm9kZXMiLCJzaWJsaW5nIiwic2V0U2VsZWN0ZWQiLCJoYW5kbGVOZXdMaXN0IiwibmV3TGlzdCIsImFkZExpc3QiLCJuZXdFdmVudCIsImdldExpc3RET01FbGVtZW50RnJvbUxpc3QiLCJmaW5kIiwiZWxlbSIsInVuZGVmaW5lZCIsInBhcmVudEVsZW1lbnQiLCJhZGROZXdMaXN0QnV0dG9uIiwibGlzdENvbnRhaW5lckVsZW1lbnQiLCJuZXdMaXN0QnV0dG9uIiwidGFza1V0aWxzIiwiY3JlYXRlVGFza0VsZW1lbnQiLCJzZXRTZWxlY3RlZFRhc2siLCJnZXRUYXNrRE9NRWxlbWVudEZyb21DaGlsZEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYiIsInRhc2tEZXNjcmlwdGlvbkVkaXRCb3giLCJjb21taXRFZGl0VGFzayIsIm5ld1RpdGxlIiwibmV3RHVlRGF0ZSIsIm5ld1ByaW9yaXR5IiwibmV3RGVzY3JpcHRpb24iLCJuZXdUYXNrRWxlbWVudCIsInJlcGxhY2VDaGlsZCIsImR1bW15Q29tbWl0RWRpdFRhc2siLCJnZXRUYXNrRE9NRWxlbWVudEZyb21UYXNrIiwiZ2V0RWxlbWVudEJ5SWQiLCJoYW5kbGVUYXNrc0JlaW5nRWRpdGVkIiwic2VsZWN0ZWRMaXN0IiwibGlzdFNlbGVjdGlvbkVsZW1lbnQiLCJsaXN0VGFza3MiLCJjdXJyZW50VGFza0VsZW1lbnQiLCJkIiwiY3JlYXRlRGVmYXVsdENvbnRlbnQiLCJsaXN0Q29udGFpbmVyIiwiZGFpbHlMaXN0IiwibG9jYWxTdG9yYWdlRGF0YSIsImxvYWRlZERhdGEiLCJjb25zb2xlIiwibG9nIiwibG9hZERhdGEiXSwic291cmNlUm9vdCI6IiJ9